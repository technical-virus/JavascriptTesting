const data =  [
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23856,
                "documentTypeId": 32,
                "documentType": "Data Worksheet",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23881,
                "documentTypeId": 33,
                "documentType": "PumpChart and Specifications",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23880,
                "documentTypeId": 34,
                "documentType": "SiteUtilityPlan",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23879,
                "documentTypeId": 35,
                "documentType": "RequestAuthorizationLetter",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23878,
                "documentTypeId": 36,
                "documentType": "WaterDataWorksheet",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23877,
                "documentTypeId": 37,
                "documentType": "Proofofinspection and approvalofwaterservice by StatePlumbingInsp",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23876,
                "documentTypeId": 38,
                "documentType": "MAWCApplication for SpecialConnection",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23875,
                "documentTypeId": 39,
                "documentType": "Design Calculations and Documents",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23874,
                "documentTypeId": 40,
                "documentType": "UploadDocuments",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23873,
                "documentTypeId": 41,
                "documentType": "Proposed Hydrants Plan",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23872,
                "documentTypeId": 42,
                "documentType": "Fire Data Worksheet",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23871,
                "documentTypeId": 43,
                "documentType": "Fire Service Plan",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23870,
                "documentTypeId": 44,
                "documentType": "Fixture DataSheet",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23869,
                "documentTypeId": 45,
                "documentType": "Fire Department Approval",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23868,
                "documentTypeId": 46,
                "documentType": "Determination letter",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23867,
                "documentTypeId": 47,
                "documentType": "System Design Plans",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23866,
                "documentTypeId": 48,
                "documentType": "Project Design Summary",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23865,
                "documentTypeId": 49,
                "documentType": "DemandCalculatorWorksheet",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23864,
                "documentTypeId": 50,
                "documentType": "Fire Flow CalculationSheet",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23863,
                "documentTypeId": 51,
                "documentType": "Signatory File",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": [
                    {
                        "id": "efa3c51a-835d-493e-8f27-4aa5bfa16cf1",
                        "name": "signature.png",
                        "status": 2,
                        "fileApprovalStatus": 1,
                        "comments": null,
                        "uploadDate": "2024-06-20T14:58:02.724075",
                        "authorizationLetterId": 0
                    }
                ]
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23862,
                "documentTypeId": 53,
                "documentType": "Authorization Letter",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23861,
                "documentTypeId": 54,
                "documentType": "Customer Acknowledgement",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": [
                    {
                        "id": "c47ac3cb-69c7-4184-9be9-762d7029bd8b",
                        "name": "151 Navesink Site Plan.pdf",
                        "status": 2,
                        "fileApprovalStatus": 1,
                        "comments": null,
                        "uploadDate": "2024-06-21T11:24:51.760056",
                        "authorizationLetterId": 207
                    },
                    {
                        "id": "9b3a207d-aed0-4fba-9ca4-a04d19c5ac8f",
                        "name": "151 Navesink Site Plan.pdf",
                        "status": 2,
                        "fileApprovalStatus": 3,
                        "comments": null,
                        "uploadDate": "2024-06-24T09:43:22.579149",
                        "authorizationLetterId": 244
                    },
                    {
                        "id": "9b3a207d-aed0-4fba-9ca4-a04d19c5ac8f",
                        "name": "151 Navesink Site Plan.pdf",
                        "status": 2,
                        "fileApprovalStatus": 1,
                        "comments": null,
                        "uploadDate": "2024-06-24T09:43:22.579149",
                        "authorizationLetterId": 244
                    }
                ]
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23860,
                "documentTypeId": 55,
                "documentType": "Customer Acknowledgement Reviewed",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23859,
                "documentTypeId": 56,
                "documentType": "Customer Input Required",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": [
                    {
                        "id": "99d47930-4759-4960-aa77-89e193d68412",
                        "name": "dummyexcel.xlsx",
                        "status": 2,
                        "fileApprovalStatus": 1,
                        "comments": null,
                        "uploadDate": "2024-06-20T15:00:01.495481",
                        "authorizationLetterId": 196
                    },
                    {
                        "id": "ea436444-72a3-4b44-a6fc-bc16700aecc6",
                        "name": "Customer Input Req - Planner.pdf",
                        "status": 2,
                        "fileApprovalStatus": 1,
                        "comments": null,
                        "uploadDate": "2024-06-20T14:59:31.359799",
                        "authorizationLetterId": 196
                    },
                    {
                        "id": "4447c5e4-e681-4f03-a6e3-50a3581f8fd1",
                        "name": "Customer Input Req - Planner.pdf",
                        "status": 2,
                        "fileApprovalStatus": 1,
                        "comments": null,
                        "uploadDate": "2024-06-20T14:58:59.975636",
                        "authorizationLetterId": 195
                    },
                    {
                        "id": "79d3eafd-208c-42cf-91aa-6cef74491745",
                        "name": "sampledummy.pdf",
                        "status": 2,
                        "fileApprovalStatus": 1,
                        "comments": null,
                        "uploadDate": "2024-06-20T15:00:23.943838",
                        "authorizationLetterId": 195
                    },
                    {
                        "id": "451b4e94-b524-46af-8b56-5eb6d768344f",
                        "name": "signed fire flow.pdf",
                        "status": 2,
                        "fileApprovalStatus": 1,
                        "comments": null,
                        "uploadDate": "2024-06-20T15:35:40.054008",
                        "authorizationLetterId": 197
                    },
                    {
                        "id": "43e56a64-2daa-4405-ad8d-6af0c33557d4",
                        "name": "151 Navesink Ave Highlands NJ New Service App.pdf",
                        "status": 2,
                        "fileApprovalStatus": 1,
                        "comments": null,
                        "uploadDate": "2024-06-20T15:34:47.111796",
                        "authorizationLetterId": 197
                    },
                    {
                        "id": "4b55fd86-82fa-44e6-8942-64e7f3c6b5b9",
                        "name": "Dummy2.docx",
                        "status": 2,
                        "fileApprovalStatus": 1,
                        "comments": null,
                        "uploadDate": "2024-06-20T16:21:49.822054",
                        "authorizationLetterId": 198
                    }
                ]
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23858,
                "documentTypeId": 57,
                "documentType": "Customer Input Required Reviewed",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": []
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23857,
                "documentTypeId": 58,
                "documentType": "Current Proposed Site Plan",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": [
                    {
                        "id": "59c1cddc-28d8-429e-b4ab-750f9ac916b2",
                        "name": "151 Navesink Ave Highlands NJ New Service App.pdf",
                        "status": 2,
                        "fileApprovalStatus": 1,
                        "comments": null,
                        "uploadDate": "2024-06-20T14:57:51.958651",
                        "authorizationLetterId": 0
                    }
                ]
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23882,
                "documentTypeId": 59,
                "documentType": "Overall Plan Showing Entire Property/Development",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": [
                    {
                        "id": "d939821e-3b14-4a47-a6fc-c96311aeae00",
                        "name": "151 Navesink Ave R 22-127 Authorizing Execution of Lot Consolidation Deed.pdf",
                        "status": 2,
                        "fileApprovalStatus": 1,
                        "comments": null,
                        "uploadDate": "2024-06-20T14:57:56.973506",
                        "authorizationLetterId": 0
                    }
                ]
            },
            {
                "projectName": "TestDocuments",
                "projectId": 1515,
                "id": 23883,
                "documentTypeId": 60,
                "documentType": "Backflow Prevention Specs",
                "documentSectionId": 1,
                "name": "Required Document",
                "submitDate": "Pending",
                "status": "Not Started",
                "documents": [
                    {
                        "id": "4272d0dd-bbb5-4909-87b6-befdbb5e83c8",
                        "name": "151 Navesink Avenue Fixture Count Sheet - Highlands.pdf",
                        "status": 2,
                        "fileApprovalStatus": 1,
                        "comments": null,
                        "uploadDate": "2024-06-20T14:58:01.915654",
                        "authorizationLetterId": 0
                    }
                ]
            }
        ]
    


const getDocumentStatus = (status)=>{
    switch(status){
        case 1:
        return 'In Progress';
        case 2:
        return 'Completed';
        case 3:
        return 'In Progress';
        default:
        return 'Not Started';
    }

}
let dates = [];

// dates.push(new Date("2019/06/25"));
// dates.push(new Date("2019/06/26"));
// dates.push(new Date("2019/06/27"));
// dates.push(new Date("2019/06/28"));

// function GFG_Fun(array) {
//     let maximumDate = new Date(Math.max.apply(null, array.uploadDate));
//     let minimumDate = new Date(Math.min.apply(null, array.uploadDate));
//     return maximumDate
   
// }
// GFG_Fun();
let newd = data.filter((res)=> res.documents.length>0).map((res,index)=>{
    res.submitDate = new Date(Math.max(...res.documents.map(e => new Date(e.uploadDate))));
    if(res.documentTypeId ===56 || res.documentTypeId === 54){
        if(res.documents.every((resD)=>resD.fileApprovalStatus === 2)){
            res.status = "Completed";
        }else if(res.documents.every((resD)=>resD.fileApprovalStatus === 1)){
            res.status = "Not Started";
        }else if(res.documents.some((resD)=>resD.fileApprovalStatus === 1)){
            res.status = "In Progress";
        }else{
            res.status = "Not Started";
        }
    }else{
        res.status = getDocumentStatus(res.documents[0].fileApprovalStatus);
    }
    return res;
})
console.log("ðŸš€ ~ newd ~ newd:", newd)



